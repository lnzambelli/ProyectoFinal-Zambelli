"use strict";(self.webpackChunkpf_zambelli=self.webpackChunkpf_zambelli||[]).push([[764],{2764:(P,_,r)=>{r.r(_),r.d(_,{AlumnosModule:()=>j});var f=r(8583),u=r(3679),t=r(7716),c=r(3738),d=r(8295),A=r(9983),h=r(4150),p=r(2458),C=r(1095);function l(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA(),t.qZA())}function U(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El DNI es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA(),t.qZA())}function M(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El email es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA(),t.qZA())}function O(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El email tiene formato "),t.TgZ(2,"strong"),t._uU(3,"incorrecto"),t.qZA(),t.qZA())}function q(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El perfil es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA(),t.qZA())}let T=(()=>{class n{constructor(o){this.fb=o,this.alumnoAgregado=new t.vpe,this.estaCreando=!1,this.estaCreando=!1,this.createForm=this.fb.group({nombre:["",u.kI.required],dni:["",u.kI.required],email:["",[u.kI.required,u.kI.email]],tienePermisoAdmin:["",[u.kI.required]],inscripciones:[[]]})}ngOnChanges(o){var e,s,i,g;o.studentToEdit||(null===(e=this.createForm.get("nombre"))||void 0===e||e.patchValue(this.estudianteAActualizar.nombre),null===(s=this.createForm.get("dni"))||void 0===s||s.patchValue(this.estudianteAActualizar.dni),null===(i=this.createForm.get("email"))||void 0===i||i.patchValue(this.estudianteAActualizar.email),null===(g=this.createForm.get("tienePermisoAdmin"))||void 0===g||g.patchValue(this.estudianteAActualizar.tienePermisoAdmin))}onSubmit(){this.estaCreando=!0,this.estudianteAActualizar?(this.createForm.value.id=this.estudianteAActualizar.id,this.alumnoAgregado.emit(this.createForm.value)):this.alumnoAgregado.emit(this.createForm.value),setTimeout(()=>{this.createForm.reset(),this.estaCreando=!1},1e3)}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(u.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-formulario-alumnos"]],inputs:{estudianteAActualizar:"estudianteAActualizar"},outputs:{alumnoAgregado:"alumnoAgregado"},features:[t.TTD],decls:33,vars:8,consts:[["novalidate","",1,"formStudents",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],[1,"full-width"],["matInput","","placeholder","Nombre","formControlName","nombre"],[4,"ngIf"],["matInput","","placeholder","DNI","formControlName","dni"],[1,"col","contentButton"],[1,"full-width2"],["matInput","","placeholder","Email","formControlName","email"],["type","text","placeholder","","matInput","","formControlName","tienePermisoAdmin",3,"matAutocomplete"],["auto","matAutocomplete"],["value","true"],["value","false"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","type","reset"]],template:function(o,e){if(1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(1,"mat-card"),t.TgZ(2,"mat-card-content"),t.TgZ(3,"div",1),t.TgZ(4,"div",2),t.TgZ(5,"mat-form-field",3),t._UZ(6,"input",4),t.YNc(7,l,4,0,"mat-error",5),t.qZA(),t.TgZ(8,"mat-form-field",3),t._UZ(9,"input",6),t.YNc(10,U,4,0,"mat-error",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",1),t.TgZ(12,"div",7),t.TgZ(13,"mat-form-field",8),t._UZ(14,"input",9),t.YNc(15,M,4,0,"mat-error",5),t.YNc(16,O,4,0,"mat-error",5),t.qZA(),t.TgZ(17,"mat-form-field",8),t.TgZ(18,"mat-label"),t._uU(19,"Permiso"),t.qZA(),t._UZ(20,"input",10),t.TgZ(21,"mat-autocomplete",null,11),t.TgZ(23,"mat-option",12),t._uU(24,"Administrador"),t.qZA(),t.TgZ(25,"mat-option",13),t._uU(26,"Estudiante"),t.qZA(),t.qZA(),t.YNc(27,q,4,0,"mat-error",5),t.qZA(),t.TgZ(28,"mat-card-actions",8),t.TgZ(29,"button",14),t._uU(30,"Crear"),t.qZA(),t.TgZ(31,"button",15),t._uU(32,"Reset"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const s=t.MAs(22);t.Q6J("formGroup",e.createForm),t.xp6(7),t.Q6J("ngIf",e.createForm.controls.nombre.hasError("required")),t.xp6(3),t.Q6J("ngIf",e.createForm.controls.dni.hasError("required")),t.xp6(5),t.Q6J("ngIf",e.createForm.controls.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.createForm.controls.email.hasError("email")),t.xp6(4),t.Q6J("matAutocomplete",s),t.xp6(7),t.Q6J("ngIf",e.createForm.controls.tienePermisoAdmin.hasError("required")),t.xp6(2),t.Q6J("disabled",e.createForm.invalid||e.estaCreando)}},directives:[u._Y,u.JL,u.sg,c.a8,c.dn,d.KE,A.Nt,u.Fj,u.JJ,u.u,f.O5,d.hX,h.ZL,h.XC,p.ey,c.hq,C.lW,d.TO],styles:[".full-width[_ngcontent-%COMP%]{width:45%;margin:0 8px}.full-width2[_ngcontent-%COMP%]{width:30%;margin:0 8px}.contentButton[_ngcontent-%COMP%]{display:flex}.formStudents[_ngcontent-%COMP%]{margin-top:16px;background-color:#f7f9f9}.formStudents[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{background-color:#f7f9f9;box-shadow:none}"]}),n})();var m=r(2789),N=r(4402),D=r(5435),v=r(6627);function S(n,a){if(1&n&&(t.TgZ(0,"mat-card",10),t._uU(1),t.qZA()),2&n){const o=a.$implicit;t.xp6(1),t.AsE("Se encontro el alumno ",o.nombre," en la posicion ",o.id,"")}}function w(n,a){if(1&n&&(t.TgZ(0,"th",15),t._uU(1),t.qZA()),2&n){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o," ")}}function z(n,a){if(1&n&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&n){const o=a.$implicit,e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",o[e]," ")}}function y(n,a){1&n&&(t.TgZ(0,"div"),t.YNc(1,z,2,1,"td",16),t.qZA())}function J(n,a){if(1&n){const o=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"mat-icon",20),t.NdJ("click",function(){const i=t.CHM(o).$implicit;return t.oxw(3).editStudents(i)}),t._uU(2,"edit"),t.qZA(),t.TgZ(3,"mat-icon",21),t.NdJ("click",function(){const i=t.CHM(o).$implicit;return t.oxw(3).deleteStudents(i)}),t._uU(4,"delete"),t.qZA(),t.qZA()}}function L(n,a){1&n&&t.YNc(0,J,5,0,"td",18)}function I(n,a){if(1&n&&(t.ynx(0,11),t.YNc(1,w,2,1,"th",12),t.YNc(2,y,2,0,"div",13),t.YNc(3,L,1,0,"ng-template",null,14,t.W1O),t.BQk()),2&n){const o=a.$implicit,e=t.MAs(4);t.Q6J("matColumnDef",o),t.xp6(2),t.Q6J("ngIf","actions"!==o)("ngIfElse",e)}}function x(n,a){1&n&&t._UZ(0,"tr",22)}function Q(n,a){1&n&&t._UZ(0,"tr",23)}let E=(()=>{class n{constructor(){this.alumnoParaEliminar=new t.vpe,this.alumnoParaEditar=new t.vpe}ngOnInit(){}ngAfterContentInit(){this.columnDefs.forEach(o=>this.table.addColumnDef(o)),this.rowDefs.forEach(o=>this.table.addRowDef(o)),this.headerRowDefs.forEach(o=>this.table.addHeaderRowDef(o)),this.table.setNoDataRow(this.noDataRow)}deleteStudents(o){this.alumnoParaEliminar.next(o)}editStudents(o){this.alumnoParaEditar.next(o)}applicarFiltro(o){this.arrEncontrados=[],(0,N.D)(this.arrAlumnos).pipe((0,D.h)(b=>b.nombre.toLowerCase().includes(o.target.value.toLowerCase()))).subscribe(b=>this.arrEncontrados.push(b)).unsubscribe(),""==o.target.value&&(this.arrEncontrados=[])}ngOnDestroy(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-listado-alumnos"]],contentQueries:function(o,e,s){if(1&o&&(t.Suo(s,m.Ee,5),t.Suo(s,m.as,4),t.Suo(s,m.nj,4),t.Suo(s,m.w1,4)),2&o){let i;t.iGM(i=t.CRH())&&(e.noDataRow=i.first),t.iGM(i=t.CRH())&&(e.headerRowDefs=i),t.iGM(i=t.CRH())&&(e.rowDefs=i),t.iGM(i=t.CRH())&&(e.columnDefs=i)}},viewQuery:function(o,e){if(1&o&&t.Gf(m.BZ,7),2&o){let s;t.iGM(s=t.CRH())&&(e.table=s.first)}},inputs:{encabezados:"encabezados",arrAlumnos:"arrAlumnos"},outputs:{alumnoParaEliminar:"alumnoParaEliminar",alumnoParaEditar:"alumnoParaEditar"},decls:13,vars:5,consts:[[1,"card"],["appearance","standard",1,"filtroContainer"],["matInput","","placeholder","Filtro",3,"keyup"],["input",""],["class","encontrados",4,"ngFor","ngForOf"],["mat-table","",1,"tableContainer",3,"dataSource"],["table",""],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"encontrados"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],[4,"ngIf","ngIfElse"],["myAction",""],["mat-header-cell",""],["mat-cell","",4,"matCellDef"],["mat-cell",""],["mat-cell","","class","iconsActionContainer",4,"matCellDef"],["mat-cell","",1,"iconsActionContainer"],[1,"actionIconsEdit",3,"click"],[1,"actionIconsDelete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,e){1&o&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"mat-form-field",1),t.TgZ(2,"mat-label"),t._uU(3,"Filtrar por nombre"),t.qZA(),t.TgZ(4,"input",2,3),t.NdJ("keyup",function(i){return e.applicarFiltro(i)}),t.qZA(),t.qZA(),t.TgZ(6,"div"),t.YNc(7,S,2,2,"mat-card",4),t.qZA(),t.qZA(),t.TgZ(8,"table",5,6),t.YNc(10,I,5,3,"ng-container",7),t.YNc(11,x,1,0,"tr",8),t.YNc(12,Q,1,0,"tr",9),t.qZA()),2&o&&(t.xp6(7),t.Q6J("ngForOf",e.arrEncontrados),t.xp6(1),t.Q6J("dataSource",e.arrAlumnos),t.xp6(2),t.Q6J("ngForOf",e.encabezados),t.xp6(1),t.Q6J("matHeaderRowDef",e.encabezados),t.xp6(1),t.Q6J("matRowDefColumns",e.encabezados))},directives:[c.a8,d.KE,d.hX,A.Nt,f.sg,m.BZ,m.as,m.nj,m.w1,m.fO,f.O5,m.ge,m.Dz,m.ev,v.Hw,m.XQ,m.Gk],styles:[".tableContainer[_ngcontent-%COMP%]{width:100%}.tableContainer[_ngcontent-%COMP%]   .iconsActionContainer[_ngcontent-%COMP%]   .actionIconsEdit[_ngcontent-%COMP%]{cursor:pointer;float:left}.tableContainer[_ngcontent-%COMP%]   .iconsActionContainer[_ngcontent-%COMP%]   .actionIconsEdit[_ngcontent-%COMP%]:hover{color:#3f51b5}.tableContainer[_ngcontent-%COMP%]   .iconsActionContainer[_ngcontent-%COMP%]   .actionIconsDelete[_ngcontent-%COMP%]{cursor:pointer;float:right}.tableContainer[_ngcontent-%COMP%]   .iconsActionContainer[_ngcontent-%COMP%]   .actionIconsDelete[_ngcontent-%COMP%]:hover{color:#e74c3c}"]}),n})();var F=r(6983),R=r(5319),Y=r(5005),Z=r(5939);const B=[{path:"",component:(()=>{class n{constructor(o){this.alumnosServices=o,this.arrAlumnos=[],this.encabezados=["id","nombre","dni","email","tienePermisoAdmin"],this.encabezadosABM=["id","nombre","dni","email","tienePermisoAdmin","actions"]}ngOnInit(){this.obtenerAlumnos()}obtenerAlumnos(){this.subscriptions=new R.w,this.subscriptions.add(this.alumnosServices.getUsersList().subscribe(o=>this.arrAlumnos=o))}agregarAlumno(o){let e=!1;this.arrAlumnos.find(s=>{s.dni==o.dni&&(e=!0)}),e?this.alumnosServices.updateUser(o).subscribe(()=>{this.obtenerAlumnos()}):this.alumnosServices.createUser(o).subscribe(()=>{this.obtenerAlumnos()})}alumnoAEditar(o){this.estudianteAActualizar=o}alumnoAEliminar(o){this.alumnosServices.deleteUser(o).subscribe(()=>{this.obtenerAlumnos()})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(Y.u))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-alumnos"]],decls:8,vars:5,consts:[[3,"title"],["label","Listado de Alumnos"],[3,"encabezados","arrAlumnos"],["label","ABM Alumnos"],[3,"estudianteAActualizar","alumnoAgregado"],[3,"encabezados","arrAlumnos","alumnoParaEditar","alumnoParaEliminar"]],template:function(o,e){1&o&&(t.TgZ(0,"h1",0),t._uU(1,"MENU DE ALUMNOS"),t.qZA(),t.TgZ(2,"mat-tab-group"),t.TgZ(3,"mat-tab",1),t._UZ(4,"app-listado-alumnos",2),t.qZA(),t.TgZ(5,"mat-tab",3),t.TgZ(6,"app-formulario-alumnos",4),t.NdJ("alumnoAgregado",function(i){return e.agregarAlumno(i)}),t.qZA(),t.TgZ(7,"app-listado-alumnos",5),t.NdJ("alumnoParaEditar",function(i){return e.alumnoAEditar(i)})("alumnoParaEliminar",function(i){return e.alumnoAEliminar(i)}),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(4),t.Q6J("encabezados",e.encabezados)("arrAlumnos",e.arrAlumnos),t.xp6(2),t.Q6J("estudianteAActualizar",e.estudianteAActualizar),t.xp6(1),t.Q6J("encabezados",e.encabezadosABM)("arrAlumnos",e.arrAlumnos))},directives:[Z.SP,Z.uX,E,T],styles:["h1[_ngcontent-%COMP%]{margin-top:8px;text-align:center;background-color:#f0f8ff;padding:4px 0}"]}),n})()},{path:"listado",component:E},{path:"formulario",component:T}];let H=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[F.Bz.forChild(B)],F.Bz]}),n})(),j=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez,H,Z.Nh,m.p0,d.lN,c.QW,h.Bb,u.UX,A.c,C.ot,v.Ps]]}),n})()},5005:(P,_,r)=>{r.d(_,{u:()=>h});var f=r(5917),u=r(205);const t=JSON.parse('{"wU":[{"id":1,"nombre":"Luis","dni":"35150343","email":"luis@coder.com","tienePermisoAdmin":"false","inscripciones":["Angular"]},{"id":2,"nombre":"Nicolas","dni":"35150123","email":"nicolas@coder.com","tienePermisoAdmin":"true","inscripciones":[]},{"id":3,"nombre":"Jose","dni":"38999343","email":"jose@coder.com","tienePermisoAdmin":"false","inscripciones":["React"]}]}');var c=r(1841),d=r(5304),A=r(7716);let h=(()=>{class p{constructor(l){this.http=l,this.studentList=t.wU,this.root_url="https://62acf594402135c7acbb1d8a.mockapi.io/api/v1/users/",this.configurationOptions={headers:new c.WM({"content-type":"application/json"})}}getStudents(){return(0,f.of)(this.studentList)}handleError(l){return l&&console.warn(`Error de backend tipo ${l.status} con el mensaje de ${l.message}`),(0,u._)("Error de comunicacion http")}getUsersList(){return this.http.get(this.root_url).pipe((0,d.K)(this.handleError))}getSingleUser(l){return this.http.get(this.root_url+l)}createUser(l){return this.http.post(this.root_url,l,this.configurationOptions)}updateUser(l){return this.http.put(this.root_url+l.id,l)}deleteUser(l){return this.http.delete(this.root_url+l.id)}}return p.\u0275fac=function(l){return new(l||p)(A.LFG(c.eN))},p.\u0275prov=A.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()}}]);