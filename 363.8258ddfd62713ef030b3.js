"use strict";(self.webpackChunkpf_zambelli=self.webpackChunkpf_zambelli||[]).push([[363],{5005:(Z,l,n)=>{n.d(l,{u:()=>g});var d=n(5917),c=n(205);const e=JSON.parse('{"wU":[{"id":1,"nombre":"Luis","dni":"35150343","email":"luis@coder.com","tienePermisoAdmin":"false","inscripciones":["Angular"]},{"id":2,"nombre":"Nicolas","dni":"35150123","email":"nicolas@coder.com","tienePermisoAdmin":"true","inscripciones":[]},{"id":3,"nombre":"Jose","dni":"38999343","email":"jose@coder.com","tienePermisoAdmin":"false","inscripciones":["React"]}]}');var h=n(1841),t=n(5304),p=n(7716);let g=(()=>{class m{constructor(r){this.http=r,this.studentList=e.wU,this.root_url="https://62acf594402135c7acbb1d8a.mockapi.io/api/v1/users/",this.configurationOptions={headers:new h.WM({"content-type":"application/json"})}}getStudents(){return(0,d.of)(this.studentList)}handleError(r){return r&&console.warn(`Error de backend tipo ${r.status} con el mensaje de ${r.message}`),(0,c._)("Error de comunicacion http")}getUsersList(){return this.http.get(this.root_url).pipe((0,t.K)(this.handleError))}getSingleUser(r){return this.http.get(this.root_url+r)}createUser(r){return this.http.post(this.root_url,r,this.configurationOptions)}updateUser(r){return this.http.put(this.root_url+r.id,r)}deleteUser(r){return this.http.delete(this.root_url+r.id)}}return m.\u0275fac=function(r){return new(r||m)(p.LFG(h.eN))},m.\u0275prov=p.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},6363:(Z,l,n)=>{n.r(l),n.d(l,{AuthModule:()=>y});var d=n(8583),c=n(6983),e=n(3679),h=n(5319),t=n(7716),p=n(6458),g=n(5005),m=n(3738),f=n(6627),r=n(8295),A=n(9983),v=n(1095);function C(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es obligatorio "),t.qZA())}function I(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," El campo debe tener al menos 4 caracteres "),t.qZA())}function T(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es obligatorio "),t.qZA())}function U(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," El campo debe tener al menos 6 caracteres "),t.qZA())}const b=[{path:"",component:(()=>{class o{constructor(s,i,u,J){this.formBuilder=s,this.router=i,this.snackBar=u,this.alumnosServices=J,this.arrAlumnos=[]}ngOnInit(){this.getUsers(),this.form=this.formBuilder.group({name:["",[e.kI.required,e.kI.minLength(4)]],password:["",[e.kI.required,e.kI.minLength(6)]]})}getUsers(){this.subscriptions=new h.w,this.subscriptions.add(this.alumnosServices.getStudents().subscribe(s=>this.arrAlumnos=s))}logIn(){if(!this.form.valid)return;const s=this.form.value.name,i=this.form.value.password;this.arrAlumnos.forEach(u=>{u.nombre==s&&u.dni==i&&(this.isLoggedIn=!0,sessionStorage.setItem("usuario",u.nombre),sessionStorage.setItem("permisoAdm",u.tienePermisoAdmin))}),this.isLoggedIn?(this.router.navigate(["personal"]),setTimeout(()=>{location.reload()},2e3)):(this.isLoggedIn=!1,this.snackBar.open("Error: No existe el usuario ingresado","close"))}}return o.\u0275fac=function(s){return new(s||o)(t.Y36(e.qu),t.Y36(c.F0),t.Y36(p.ux),t.Y36(g.u))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-auth"]],decls:19,vars:6,consts:[[1,"cardContainer"],[1,"iconContainer"],[1,"iconLogin"],[1,"containerForm",3,"formGroup"],["type","text","matInput","","formControlName","name"],[4,"ngIf"],["type","password","matInput","","formControlName","password"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"]],template:function(s,i){1&s&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"div",1),t.TgZ(2,"mat-icon",2),t._uU(3," account_circle_full"),t.qZA(),t.qZA(),t.TgZ(4,"form",3),t.TgZ(5,"mat-form-field"),t.TgZ(6,"mat-label"),t._uU(7,"Nombre"),t.qZA(),t._UZ(8,"input",4),t.YNc(9,C,2,0,"mat-error",5),t.YNc(10,I,2,0,"mat-error",5),t.qZA(),t.TgZ(11,"mat-form-field"),t.TgZ(12,"mat-label"),t._uU(13,"Contrase\xf1a"),t.qZA(),t._UZ(14,"input",6),t.YNc(15,T,2,0,"mat-error",5),t.YNc(16,U,2,0,"mat-error",5),t.qZA(),t.qZA(),t.TgZ(17,"button",7),t.NdJ("click",function(){return i.logIn()}),t._uU(18,"Ingresar"),t.qZA(),t.qZA()),2&s&&(t.xp6(4),t.Q6J("formGroup",i.form),t.xp6(5),t.Q6J("ngIf",i.form.controls.name.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.form.controls.name.hasError("minlength")),t.xp6(5),t.Q6J("ngIf",i.form.controls.password.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.form.controls.password.hasError("minlength")),t.xp6(1),t.Q6J("disabled",i.form.invalid||i.isLoggedIn))},directives:[m.a8,f.Hw,e._Y,e.JL,e.sg,r.KE,r.hX,A.Nt,e.Fj,e.JJ,e.u,d.O5,v.lW,r.TO],styles:[".containerForm[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cardContainer[_ngcontent-%COMP%]{max-width:300px;margin:auto}button[_ngcontent-%COMP%]{width:100%}.iconContainer[_ngcontent-%COMP%]{display:flex;justify-content:center}.iconContainer[_ngcontent-%COMP%]   .iconLogin[_ngcontent-%COMP%]{width:80px;height:80px;font-size:80px;color:#3f51b5}"]}),o})()}];let E=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(b)],c.Bz]}),o})(),y=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,E,e.UX,r.lN,m.QW,A.c,v.ot,f.Ps]]}),o})()}}]);